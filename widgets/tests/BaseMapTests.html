<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
    <title>TEST: BaseMap</title>
    <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
    <meta name="description" content="agrc.widgets.map.BaseMap Test" />
    <meta name="keywords" content="agrc.widgets.map.BaseMap, esri.map, basemap, map, tests, test, javascript" />
    <link rel="stylesheet" type="text/css" href="jasmine-1.0.1/jasmine.css">
    <link rel='stylesheet' href='http://serverapi.arcgisonline.com/jsapi/arcgis/2.4/js/dojo/dijit/themes/claro/claro.css'>
    <link rel='stylesheet' href='http://serverapi.arcgisonline.com/jsapi/arcgis/2.4/js/dojo/dijit/themes/tundra/tundra.css'>
    <style type='text/css'>
        @import url('../../themes/standard/agrc.css');
        .basemap {
            border: solid 1px gray;
        }
        #basemap-div {
            width: 400px;
            height: 500px;
        }
        #basemap-div-overlay {
            width: 400px;
            height: 500px;
        }
        #basemap-div-extent {
            width: 500px;
            height: 300px;
        }
        #basemap-div-full-extent {
            width: 400px;
            height: 400px;
        }
    </style>
    <!-- DOJO REFERENCES -->
    <script type='text/javascript'>
        djConfig = {
            isDebug: true,
            debugAtAllCosts: true,
            parseOnLoad: true,
            baseUrl: './',
            modulePaths: {
                'agrc': '../../'
            }
        };
    </script>
    <script type="text/javascript" src="http://serverapi.arcgisonline.com/jsapi/arcgis/?v=2.4"></script>
    <!-- JASMINE REFERENCES -->
    <script type="text/javascript" src="jasmine-1.0.1/jasmine.js"></script>
    <script type="text/javascript" src="jasmine-1.0.1/jasmine-html.js"></script>
    <!-- SPEC FILES -->
    <script type="text/javascript" src="spec/SpecBaseMap.js"></script>
    <script type="text/javascript">
        dojo.require('agrc.widgets.map.BaseMap');
		
		var baseMap;
        function init() {
            // take all defaults
            baseMap = new agrc.widgets.map.BaseMap('basemap-div');

            // add overlay layer
            var overlayBaseMap = new agrc.widgets.map.BaseMap('basemap-div-overlay');
            var lyr = new esri.layers.ArcGISDynamicMapServiceLayer('//mapserv.utah.gov/ArcGIS/rest/services/Broadband/ProviderCoverage/MapServer', {
                opacity: 0.75
            });
            overlayBaseMap.addLayer(lyr);
            overlayBaseMap.addLoaderToLayer(lyr);

            // custom start extent and base map
            var startExtent = new esri.geometry.Extent(430481, 4495027, 432392, 4497415,
				new esri.SpatialReference({
				    wkid: 26912
				}));
            var options = {
                'useDefaultExtent': false,
                'defaultBaseMap': 'UtahBaseMap-Terrain',
                'extent': startExtent
            };
            var extentBaseMap = new agrc.widgets.map.BaseMap('basemap-div-extent', options);

            var fullExtentBaseMap = new agrc.widgets.map.BaseMap('basemap-div-full-extent', {
                includeFullExtentButton: true
            });

            var backButtonBaseMap = new agrc.widgets.map.BaseMap('basemap-div-back', {
                includeFullExtentButton: true,
                includeBackButton: true
            });

            // run tests
            jasmine.getEnv().addReporter(new jasmine.TrivialReporter());
            jasmine.getEnv().execute();
        }

        dojo.ready(init);
    </script>
</head>
<body>
    <p>
        Test for the agrc.widgets.map.BaseMap
    </p>
    Defaults
    <div id='basemap-div' class='claro basemap'></div>
    <br>
    Add overlay map service with loader shown when drawing.
    <div id='basemap-div-overlay' class='claro basemap'></div>
    <br>
    Don't use default base map and custom extent.
    <div id='basemap-div-extent' class='claro basemap'></div>
    <br>
    Full Extent Button
    <div id='basemap-div-full-extent' class='claro basemap'></div>
    Back Button
    <div id='basemap-div-back' class='tundra basemap'></div>
</body>
</html>
